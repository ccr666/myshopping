<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
</head>

<body>
    <input type="checkbox" name="checkboxAll"><br />
    <input type="checkbox" name="checkbox">
    <input type="checkbox" name="checkbox">
    <input type="checkbox" name="checkbox">
</body>
<script>
    $("input[name='checkboxAll']").click(function(){
    var inputLength = $("input[name = 'checkbox']").length;
    if($(this)[0].checked){
        for(let i=0;i<inputLength;i++){
            $('input[name="checkbox"]')[i].checked = true;
        }
    }else{
            for(let i=0;i<inputLength;i++){
                $('input[name="checkbox"]')[i].checked=false
            }
    }
    });
    $("input[name='checkbox']").click(function(){
        var checkedLength = $("input[name='checkbox']:checked").length;
        var inputLength = $("input[name = 'checkbox']").length;
        if(checkedLength === inputLength){
            $('input[name="checkboxAll"]')[0].checked=true;
        }else{
            $('input[name="checkboxAll"]')[0].checked=false;
        }
   })

</script>

</html>